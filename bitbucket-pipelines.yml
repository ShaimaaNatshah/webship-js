#  Template NodeJS build

#  This template allows you to validate your NodeJS code.
#  The workflow allows running tests and code linting on the default branch.

image: node:16

pipelines:
  default:
    - step:
        name: Build and test
        image: zenika/alpine-chrome
        caches:
          - node
        script:
          - docker version
          - docker pull browserless/chrome:latest
        services:
          - docker
    - step:
        name: 'Test selenium'
        image: nixel2007/docker-selenium-side-runner:latest
        script:
          - selenium-side-runner -c "browserName=chrome goog:chromeOptions.args=[disable-infobars,headless]" ./ConsoleTesting.side
    - step:
        name: Build and Test webship
        script:
          - npm install
          - npm test
        caches:
          - node
        

options:
  docker: true
